-- directory paths and dlsuffix are passed to us in environment variables
\getenv libdir PG_LIBDIR
\getenv dlsuffix PG_DLSUFFIX
\set regresslib :libdir '/regress' :dlsuffix
CREATE FUNCTION test_translation()
    RETURNS void
    AS :'regresslib'
    LANGUAGE C;
-- Some BSDen are sticky about wanting a codeset name in lc_messages,
-- but it seems that at least on common platforms it doesn't have
-- to match the actual database encoding.
SET lc_messages = 'es_ES.UTF-8';
SELECT test_translation();
NOTICE:  traducido PRId64 = 424242424242
NOTICE:  traducido PRId32 = -1234
NOTICE:  traducido PRIdMAX = -5678
NOTICE:  traducido PRIdPTR = 9999
NOTICE:  traducido PRIu64 = 424242424242
NOTICE:  traducido PRIu32 = 1234
NOTICE:  traducido PRIuMAX = 5678
NOTICE:  traducido PRIuPTR = 9999
NOTICE:  traducido PRIx64 = 62c6d1a9b2
NOTICE:  traducido PRIx32 = 4d2
NOTICE:  traducido PRIxMAX = 162e
NOTICE:  traducido PRIxPTR = 270f
NOTICE:  traducido PRIX64 = 62C6D1A9B2
NOTICE:  traducido PRIX32 = 4D2
NOTICE:  traducido PRIXMAX = 162E
NOTICE:  traducido PRIXPTR = 270F
 test_translation 
------------------
 
(1 row)

RESET lc_messages;
