#-------------------------------------------------------------------------
#
# Makefile for src/interfaces
#
# Copyright (c) 1994, Regents of the University of California
#
# $Header: /cvsroot/pgsql/src/interfaces/Attic/Makefile.in,v 1.3 2000/06/19 16:58:43 petere Exp $
#
#-------------------------------------------------------------------------

srcdir = @srcdir@
VPATH = @srcdir@

top_srcdir = @top_srcdir@
top_builddir = ../..
subdir = src/interfaces

USE_TCL = @USE_TCL@
enable_odbc = @enable_odbc@
with_CXX = @with_CXX@
with_perl = @with_perl@
with_python = @with_python@

all install clean dep depend:
	$(MAKE) -C libpq $@
	$(MAKE) -C ecpg $@
ifeq ($(with_CXX), yes)
	$(MAKE) -C libpq++ $@
endif
	$(MAKE) -C libpgeasy $@
ifeq ($(USE_TCL), true)
	$(MAKE) -C libpgtcl $@
endif
ifeq ($(with_perl), yes)
	$(MAKE) -C perl5 $@
endif
ifeq ($(with_python), yes)
	$(MAKE) -C python $@
endif
ifeq ($(enable_odbc), yes)
	$(MAKE) -C odbc $@
endif

distclean maintainer-clean: clean
	-$(MAKE) -C perl5 $@
	-$(MAKE) -C python $@
	-$(MAKE) -C odbc $@
	rm -f Makefile \
	  libpq/Makefile \
	  ecpg/lib/Makefile \
	  ecpg/preproc/Makefile \
	  libpq++/Makefile \
	  libpgeasy/Makefile \
	  libpgtcl/Makefile


.PHONY: all install dep depend clean distclean maintainer-clean


GNUmakefile: GNUmakefile.in $(top_builddir)/config.status
	CONFIG_FILES=$(subdir)/$@ CONFIG_HEADERS= ./config.status

$(top_builddir)/config.status: $(top_srcdir)/configure
	cd $(top_builddir) && ./config.status --recheck
