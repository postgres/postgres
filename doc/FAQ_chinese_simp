
                          PostgreSQL еёёи§й®йўпјFAQпј
                                       
   жиїжґж°пј2007 е№ґ 1 ж 30 жҐ жждє 17:37:01 EST
   дёжзжиїжґж°пј2007 е№ґ 2 ж 1 жҐ жже 12:55:04 CST
   
   з®ез»ґж¤дєєепјBruce Momjian (pgman@candle.pha.pa.us)
   дёжзз»ґж¤дєєепјDaojing.Zhouпјdoudou586@gmail.comпј
   
   ж¬жжЎЈзжж°зж¬еЇд»ҐеЁ
   http://www.postgresql.org/files/documentation/faqs/FAQ.htmlжҐзг
   
   дёждЅзі»з»е№іе°зёеізй®йўеЇеЁhttp://www.postgresql.org/docs/faq/йжѕе°з­
   жЎг
     _________________________________________________________________
   
еёёи§й®йў

   1.1)PostgreSQL жЇд»д№пјиЇҐжд№ейіпј
   1.2)и°ж§е¶ез®ЎзPostgreSQL пј
   1.3)PostgreSQLззжжЇд»д№пј
   1.4)PostgreSQLеЇд»ҐиїиЎеЁеЄдєждЅзі»з»е№іе°дёпј
   1.5)жд»еЄйиЅеѕе°PostgreSQLпј
   1.6)жж°ззPostgreSQL жЇд»д№пј
   1.7)жд»еЄйиЅеѕе°еЇ№PostgreSQL зжЇжпј
   1.8)же¦дЅждє¤дёдёЄBUGжҐепј
   1.9)же¦дЅдєи§Је·ІзҐз BUG жжзјєзеиЅпј
   1.10)иЅе¤и·езжж°жжЎЈжеЄдєпј
   1.11)жеєиЇҐжж ·е¦д№  SQL пј
   1.12)е¦дЅждє¤иЎҐдёжжЇе еҐејейдјпј
   1.13)PostgreSQL ее¶д»ж°ж®еєзі»з»жЇиµ·жҐе¦дЅпј
   1.14)PostgreSQL еЇд»Ґе¤зжиїедёЄеЅе®¶е¤ж¶е¶зееепј
   
зЁж·е®ўж·з«Їй®йў

   2.1)жд»¬еЇд»ҐзЁд»д№иЇиЁеPostgreSQL ждє¤йпј
   2.2)жд»д№е·Ґе·еЇд»ҐжPostgreSQL зЁдє Web йЎµйўпј
   2.3)PostgreSQL жҐжеѕеЅўзЁж·зйўепј
   
зі»з»з®Ўзй®йў

   3.1)жжж ·жиЅжPostgreSQL иЈеЁ /usr/local/pgsql д»Ґе¤зе°ж№пј
   3.2)же¦дЅж§е¶жҐиЄе¶д»зµизиїжҐпј
   3.3)жжж ·и°жґж°ж®еєжеЎеЁд»Ґи·еѕжґеҐЅзж§иЅпј
   3.4)PostgreSQL йеЇд»Ґи·еѕд»д№ж ·зи°иЇз№ж§пј
   3.5)дёєд»д№еЁиЇеѕиїжҐз»еЅж¶ж¶е°вSorry, too many clientsв ж¶жЇпј
   3.6)PostgreSQLзезє§иїзЁжеЄдєее®№пј
   3.7)(дЅїзЁPostgreSQL)жйи¦дЅїзЁд»д№и®Ўз®жєзЎ¬д»¶ пј
   
ждЅй®йў

   4.1) е¦дЅеЄйж©дёдёЄжҐиЇўз»жзе¤ґе иЎпјжжЇйжєздёиЎпј
   4.2)
   е¦дЅжҐзиЎЁгзґўејгж°ж®еєд»ҐезЁж·зе®д№пје¦дЅжҐзpsqlйзЁе°зжҐиЇўжд»¤е№¶жѕз
   ¤єе®д»¬пј
   4.3) е¦дЅжґж№дёдёЄеж®µзж°ж®з±»епј
   4.4) ежЎи®°еЅпједёЄиЎЁпјдёдёЄж°ж®еєзже¤§йе¶жЇе¤е°пј
   4.5) ееЁдёдёЄеёезжж¬жд»¶йзж°ж®йи¦е¤е°зЈзз©єйґпј
   4.6) дёєд»д№жзжҐиЇўеѕжўпјдёєд»д№иїдєжҐиЇўжІЎже©зЁзґўејпј
   4.7) же¦дЅжиЅзе°жҐиЇўдјееЁжЇжж ·иЇдј°е¤зжзжҐиЇўзпј
   4.8) жжж ·ежЈеиЎЁиѕѕејжзґўее¤§е°еж еізж­
   ЈеиЎЁиѕѕејжҐжѕпјжж ·е©зЁзґўејиїиЎе¤§е°еж еіжҐжѕпј
   4.9) еЁдёдёЄжҐиЇўйпјжжж ·жЈжµдёдёЄеж®µжЇе¦дёє
   NULLпјже¦дЅжиЅезЎ®жеєидёи®єжеж®µжЇе¦е«NULLејпј
   4.10) ез§ез¬¦з±»ед№йґжд»д№дёепј
   4.11.1) жжж ·ее»єдёдёЄеєее·ежжЇиЄеЁйеўзеж®µпј
   4.11.2) же¦дЅи·еѕдёдёЄжеҐзеєее·зејпј
   4.11.3) еж¶дЅїзЁ currval() дјеЇјиґее¶д»зЁж·зеІзЄжеµепј
   4.11.4) дёєд»д№дёеЁдєеЎејеёёдёжўейзЁеєее·еўпјдёєд»д№еЁеєее·еж®µзеејдё­
   ееЁйґжеўпј
   4.12) д»д№жЇ OIDпјд»д№жЇ CTID пј
   4.13) дёєд»д№жж¶е°йиЇЇдїЎжЇвERROR: Memory exhausted in
   AllocSetAlloc()впј
   4.14) же¦дЅжиЅзҐйжиїиЎз PostgreSQL ззж¬пј
   4.15) же¦дЅее»єдёдёЄзјєзејжЇеЅеж¶йґзеж®µпј
   4.16) е¦дЅж§иЎе¤иїжҐпјouter joinпјжҐиЇўпј
   4.17) е¦дЅж§иЎж¶ее¤дёЄж°ж®еєзжҐиЇўпј
   4.18) е¦дЅи®©еЅж°иїее¤иЎже¤еж°ж®пј
   4.19) дёєд»д№жеЁдЅїзЁPL/PgSQLеЅж°еедёґж¶иЎЁж¶дјж¶е°йиЇЇдїЎжЇвrelation
   with OID ##### does not existвпј
   4.20) з®ежеЄдєж°ж®е¤е¶ж№жЎеЇзЁпј
   4.21) дёєдЅжҐиЇўз»жжѕз¤єзиЎЁежеедёжзжҐиЇўиЇеҐдё­
   здёепјдёєдЅе¤§ез¶ждёиЅдїзпј
     _________________________________________________________________
   
еёёи§й®йў

  1.1)PostgreSQL жЇд»д№пјиЇҐжд№ейіпј
  
   PostgreSQL иЇ»дЅ Post-Gres-Q-Lпјжж¶ед№з®з§°дёєPostgres
   гжіе¬дёдёе¶ейіздєєееЇд»иїйдёиЅЅеЈ°йіжд»¶пј MP3 ж јеј г
   
   PostgreSQL
   жЇйўез®ж зеізі»ж°ж®еєзі»з»пје®е·ждј з»едёж°ж®еєзі»з»зжжеиЅпјеж¶ее«же°е
   Ёдёдёд»Ј DBMS зі»з»здЅїзЁзеўејєз№ж§гPostgreSQL
   жЇиЄз±еиґ№зпје№¶дёжжжєд»Јз йЅеЇд»Ґи·еѕг
   
   PostgreSQL
   зејейдјдё»и¦дёєеїжїипјд»д»¬йеёдёзее°е№¶йиїдєизЅиїиЎизі»пјиїжЇдёдёЄз¤ѕе
   єејейЎ№з®пје®дёиў«д»»дЅе¬еёж§е¶г
   е¦жіе еҐејейдјпјиЇ·еи§еједєєееёёи§й®йўпјFAQпј
   http://www.postgresql.org/files/documentation/faqs/FAQ_DEV.html
   
  1.2) и°ж§е¶PostgreSQL пј
  
   е¦ждЅ еЁеЇ»жѕPostgreSQLзжйЁдєєпјжжЇд»д№дё­
   е¤®е§едјпјжжЇд»д№же±е¬еёпјдЅ еЄиЅжѕејдє---е дёєдёдёЄд№дёе­
   еЁпјдЅжд»¬ззЎ®ждёдёЄ
   ж ёеїе§едјеCVSз®Ўзз»пјдЅиїдєе·ҐдЅз»зи®ѕз«дё»и¦жЇдёєдєиїиЎз®Ўзе·ҐдЅидёж
   ЇеЇ№PostgreSQLиїиЎз¬е ејж§е¶пјPostgreSQLйЎ№з®жЇз±д»»дЅдєєе
   еЇее зеједєєез¤ѕеєежжзЁж·ж§е¶зпјдЅ жйи¦езе°±жЇи®ўйй®д»¶еиЎЁпједёи®Ёи®є
   еіеЇпји¦едёPostgreSQLзејеиЇ¦и§ еједєєееёёй®йў (Developer's FAQ)
   и·едїЎжЇпјг
   
  1.3)PostgreSQLззжжЇд»д№?
  
   PostgreSQLзееёйµд»з»еёзBSDзжге®еи®ёзЁж·дёйз®зе°дЅїзЁPostgreSQLпјзиідЅ
   еЇд»Ґйе®PostgreSQLидёе«жєд»Јз д№еЇд»ҐпјеЇдёзйе¶е°±жЇдЅ дёиЅе иЅЇд»¶иЄи
   є«й®йўиежд»¬иїЅиЇжіеѕиґЈд»»пје¦е¤е°±жЇи¦ж±жжзиЅЇд»¶ж·иґдё­
   йЎ»еж¬д»ҐдёзжеЈ°жгдёйўе°±жЇжд»¬ждЅїзЁзBSDзжеЈ°жее®№пј
   
   PostgreSQLж°ж®еєз®Ўззі»з»
   
   йЁезжпјcпј1996-2005пјPostgreSQL еЁзејее°з»пјйЁезжпјcпј1994-1996
   е е·е¤§е¦иЈдє
   
   пјPortions copyright (c) 1996-2005,PostgreSQL Global Development Group
   Portions Copyright (c) 1994-6 Regents of the University of
   Californiaпј
   
   еи®ёдёєд»»дЅз®здЅїзЁпјж·иґпјдї®ж№еееиїдёЄиЅЇд»¶ее®зжжЎЈидёж¶ед»»дЅиґ№з
   Ёпј е№¶дёж йЎ»зѕзЅІе ж­
   ¤идє§ззиЇжпјежжЇдёйўззжеЈ°жеж¬ж®µд»Ґедёйўдё¤ж®µжееєз°еЁжжж·иґдёг
   
   пјPermission to use, copy, modify, and distribute this software and
   its documentation for any purpose, without fee, and without a written
   agreement is hereby granted, provided that the above copyright notice
   and this paragraph and the following two paragraphs appear in all
   copies.пј
   
   еЁд»»дЅжеµдёпје е·е¤§е¦йЅдёжїже дЅїзЁж­
   ¤иЅЇд»¶ее¶жжЎЈиеЇјиґзеЇ№д»»дЅеЅдєдєєззґжҐзпј
   йґжҐзпјз№ж®зпјйе зжизёдјґиззжепјеж¬е©зже¤±зиґЈд»»пјеідЅїе е·е¤§е­
   ¦е·Із»е»єи®®дєиїдєже¤±зеЇиЅж§ж¶д№жЇе¦ж¤г
   
   пјIN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY
   PARTY FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL
   DAMAGES, INCLUDING LOST PROFITS, ARISING OUT OF THE USE OF THIS
   SOFTWARE AND ITS DOCUMENTATION, EVEN IF THE UNIVERSITY OF CALIFORNIA
   HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.пј
   
   е е·е¤§е¦жзЎ®жѕејд»»дЅдїиЇпјеж¬дЅдёе±йдєждёз№е®зЁйзедёее©ззйе«дїиЇг
   иїйждѕзиїд»ЅиЅЇд»¶жЇеєдєвеЅдЅжЇвзеєзЎзпје ие е·е¤§е­
   ¦жІЎжиґЈд»»ждѕз»ґж¤пјжЇжпјжґж°пјеўејєжидї®ж№зжеЎг
   
   пјTHE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES,
   INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
   MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE
   PROVIDED HEREUNDER IS ON AN "AS IS" BASIS, AND THE UNIVERSITY OF
   CALIFORNIA HAS NO OBLIGATIONS TO PROVIDE MAINTENANCE, SUPPORT,
   UPDATES, ENHANCEMENTS, OR MODIFICATIONS.пј
   
  1.4)PostgreSQL еЇд»ҐиїиЎеЁеЄдєждЅзі»з»е№іе°дёпј
  
   дёи¬иЇґжҐпјд»»дЅз°еЁеЇ№ UNIX еје®№зждЅзі»з»д№дёйЅиЅиїиЎPostgreSQL
   геЁе®иЈжейееєдєееёж¶з»иїжзЎ®жµиЇзе№іе°г
   
   PostgreSQlд№еЇд»ҐзґжҐиїиЎеЁеєдєеѕ®иЅЇWindows-NTзждЅзі»з»пје¦Win2000
   SP4пјWinXP е Win2003пје·Іе¶дЅе®жзе®иЈееЇд»
   http://pgfoundry.org/projects/pginstallerдёиЅЅпјеєдєMSDOSзWindowsждЅзі
   »з» пјWin95пјWin98пјWinMeпјйи¦йиїCygwinжЁЎжзЇеўиїиЎPostgreSQLг
   
   еж¶д№ждёдёЄдёєNovell Netware 6ејеззж¬еЇд»
   http://forge.novell.comи·епјдёєOS/2(eComStation)ејеззж¬еЇд»
   http://hobbes.nmsu.edu/cgi-bin/h-search?sh=1&button=Search&key=postgre
   SQL&stype=all&sort=type&dir=%2F дёиЅЅг
   
  1.5) жд»еЄйиЅеѕе°PostgreSQLпј
  
   йиїжµи§еЁеЇд»http://www.postgresql.org/ftp/дёиЅЅпјд№еЇйиїFTPпјд»
   ftp://ftp.PostgreSQL.org/pub/з«з№дёиЅЅг
   
  1.6) жж°ззPostgreSQLжЇд»д№пј
  
   PostgreSQL жж°ззж¬жЇзж¬ 8.2.1 г
   
   жд»¬и®ЎежЇе№ґееёдёдёЄдё»и¦езє§зж¬пјжЇе дёЄжееёдёдёЄе°зж¬г
   
  1.7) жд»еЄйиЅеѕе°еЇ№PostgreSQLзжЇжпј
  
   PostgreSQLз¤ѕеєйиїй®д»¶еиЎЁдёєе¶е¤§е¤ж°зЁж·ждѕеё®е©пји®ўйй®д»¶еиЎЁздё»
   з«з№жЇ
   http://www.postgresql.org/community/lists/пјдёи¬жеµдёпјее еҐGeneral ж
   Bugй®д»¶еиЎЁжЇдёдёЄиѕеҐЅзеје§г
   
   дё»и¦зIRCйўйжЇеЁFreeNode(irc.freenode.net)з#postgresqlпјдёєдєиїдёж­
   ¤йўйпјеЇд»ҐдЅїзЁUNIXзЁеєircпје¶жд»¤ж јејпј irc -c '#postgresql'
   "$USER" irc.freenode.net пјжидЅїзЁе¶д»IRCе®ўж·з«ЇзЁеєгеЁж¤зЅз»дёиїе­
   еЁдёдёЄPostgreSQLзиҐїззйўй(#postgersql-es)ежіиЇйўй
   (#postgresql-fr)геж ·е°пјеЁEFNETдёд№ждёдёЄPostgreSQLздє¤жµйўйг
   
   еЇждѕедёжЇжзе¬еёеиЎЁеЇеЁhttp://techdocs.postgresql.org/companies.phpжµ
   и§г
   
  1.8) же¦дЅждє¤дёдёЄBUGжҐепј
  
   еЇи®їй®
   http://www.postgresql.org/support/submitbugпјеЎ«еBugдёжҐиЎЁж јеіеЇпјеж
    ·д№еЇи®їй®ftpз«з№ftp://ftp.PostgreSQL.org/pub/
   жЈжҐжж жґж°зPostgreSQLзж¬жиЎҐдёг
   
   йиїдЅїзЁBugждє¤иЎЁж јжжЇееѕPostgreSQLй®д»¶еиЎЁзBugйеёёдјжд»Ґдёд№дёее¤п
   ј
     * жждє¤ее®№дёжЇдёдёЄBugее¶дёжЇBugзее г
     * жждє¤ее®№жЇдёдёЄе·ІзҐзBugе№¶дёе·Із»е еҐTODOеѕе¤зд»»еЎеиЎЁг
     * жждє¤зBugе·ІеЁеЅезж¬дёиў«дї®жЈг
     * жждє¤зBugе·Ідї®жЈдЅе°жЄе°иЎҐдёе еҐз°еЁзееёиЅЇд»¶ег
     * иЇ·ж±ждє¤иждѕжґиЇ¦з»здїЎжЇпј
          + ждЅзі»з»
          + PostgreSQLзж¬
          + еЇйз°BugзжµиЇжЎдѕ
          + и°иЇдїЎжЇ
          + и°иЇи·иёЄиѕеє
     * жждє¤ее®№жЇдёдёЄж°Bugпје°ж§иЎд»Ґдёе·ҐдЅпј
          + ее»єдёдёЄж°иЎҐдёе№¶е°е¶е еҐдёдёдёЄдё»и¦зж¬жжЇе°зж№иїзж¬дёг
          + ж¤Bugжж¶дёиЅдї®жЈпје°иў«е иіTODOеѕе¤зд»»еЎеиЎЁг
       
  1.9) же¦дЅдєи§Је·ІзҐз BUG жжзјєзеиЅпј
  
   PostgreSQL жЇждёдёЄж©е±з SQL:2003 зейгейжд»¬зTODO
   еиЎЁпјдєи§Је·ІзҐBugеиЎЁгжзјєзеиЅее°жҐзејеи®Ўег
   
   и¦ж±еўе ж°еиЅззіиЇ·йеёёдјж¶е°д»Ґдёд№дёзее¤пј
     * иЇҐеиЅе·Іе еҐTODOеѕе¤зд»»еЎеиЎЁг
     * иЇҐеиЅдёжЇеїйЎ»зпје дёєпј
          + е®жЇз°жздёз¬¦еSQLж езжеиЅзйе¤г
          + иЇҐеиЅж§дје¤§е¤§еўе д»Јз зе¤жзЁеєпјиеё¦жҐзеҐЅе¤жЇеѕ®дёи¶ійзг
          + иЇҐеиЅжЇдёе®еЁжжЇдёеЇй зг
     * иЇҐеиЅе°иў«е еҐTODOеѕе¤зд»»еЎеиЎЁг
       
   PostgreSQLдёдЅїзЁBugи·иёЄзі»з»пје дёєжд»¬ез°еЁй®д»¶еиЎЁдё­
   зґжҐее¤д»ҐедїиЇTODOд»»еЎеиЎЁж»жЇе¤дєжж°з¶жзж№еје·ҐдЅжздјжґй«дёдєгдєе®д
   ёпјBugдёдјеЁжд»¬зиЅЇд»¶дёееЁеѕйїж¶йґпј
   еЇ№еЅ±ееѕе¤зЁж·зBugд№ж»жЇеѕеї«дјиў«дї®жЈгеЇдёиЅжѕе°жжж№иїгжй«едї®ж­
   Јзе°ж№жЇCVSзжҐеїдїЎжЇпјеідЅїжЇеЁиЅЇд»¶ж°зж¬зееёдїЎжЇдё­
   д№дёдјееєжЇдёе¤зиЅЇд»¶жґж°г
   
  1.10) иЅе¤и·езжж°жжЎЈжеЄдєпј
  
   PostgreSQLее«е¤§йзжжЎЈпјдё»и¦жиЇ¦з»зеижепјжейЎµедёдєзжµиЇдѕегеи§ /doc
   з®еЅпјиЇжіЁпјеєдёє $PGHOME/docпјг
   дЅ иїеЇд»ҐеЁзєїжµи§PostgreSQLзжепје¶зЅежЇпјhttp://www.PostgreSQL.org/d
   ocsг
   
   ждё¤ж¬еідєPostgreSQLзд№¦еЁзєїждѕпјеЁ
   http://www.PostgreSQL.org/docs/awbook.html е
   http://www.commandprompt.com/ppbook/ г д№же¤§йзPostgreSQLд№¦з±еЇдѕиґ­
   д№°пје¶дёждёєжµиЎздёж¬жЇз±Korry DouglasзјезгеЁ
   http://techdocs.PostgreSQL.org/techdocs/bookreviews.phpдё
   дёже¤§йжеіPostgreSQLд№¦з±зз®д»г еЁ
   http://techdocs.PostgreSQL.org/дёж¶йдєжеіPostgreSQLзе¤§йжжЇжз« г
   
   е®ўж·з«ЇзеЅд»¤иЎзЁеєpsqlждёдєд»Ґ \d
   еје¤ґзеЅд»¤пјеЇжѕз¤єеідєз±»епјждЅз¬¦пјеЅж°пјиездїЎжЇпјдЅїзЁ \?
   еЇд»Ґжѕз¤єжжеЇзЁзеЅд»¤г
   
   жд»¬з web з«з№ее«жґе¤зжжЎЈг
   
  1.11) жеєиЇҐжж ·е¦д№  SQL пј
  
   й¦еиидёиї°же°здёPostgreSQLзёеізд№¦з±пје¦е¤дёж¬жЇTeach Yourself SQL in
   21 Days, Second Editionпје¶иЇ¦з»д»з»ззЅежЇ
   http://members.tripod.com/er4ebus/sql/index.htmпј
   жд»¬зи®ёе¤зЁж·еж¬ўThe Practical SQL Handbookпј Bowman, Judith S.
   зјепјAddison-Wesleyе¬еёеєзпје¶д»зееж¬ў The Complete Reference SQL,
   Groff зјепјMcGraw-Hillе¬еёеєзг
   
   еЁдёезЅедёд№жеѕеҐЅзжзЁпјд»д»¬жЇ
     * http://www.intermedia.net/support/sql/sqltut.shtm
     * http://sqlcourse.com.
     * http://www.w3schools.com/sql/default.asp
     * http://mysite.verizon.net/Graeme_Birchall/id1.html
       
  1.12)е¦дЅждє¤иЎҐдёжжЇе еҐејейдјпј
  
   иЇ¦и§ еједєєееёёи§й®йў (Developer's FAQ) г
   
  1.13)PostgreSQLее¶д»ж°ж®еєзі»з»жЇиµ·жҐе¦дЅпј
  
   иЇд»·иЅЇд»¶жеҐЅе з§ж№жіпјеиЅпјж§иЅпјеЇй ж§пјжЇжед»·ж јг
   
   еиЅ
          PostgreSQL жҐже¤§еезЁж°ж®еєже¤зеиЅпјдѕе¦пјдєеЎпје­
          жҐиЇўпји§¦ееЁпји§еѕпје¤й®еие®жґж§ее¤жзйе®зг
          жд»¬иїждёдєе®д»¬жІЎжзз№ж§пје¦зЁж·е®д№з±»епјз»§жїпји§еее¤зж¬е№¶и
          Ўж§е¶д»Ґее°йздєзЁзг
          
   ж§иЅ
          PostgreSQLее¶д»езЁеејжєзж°ж®еєе·жз±»дјјзж§иЅгеЇ№ждєе¤зе®жЇиѕеї«
          пјеЇ№е¶д»дёдєе¤зе®жЇиѕжўг дёе¶д»ж°ж®еєзёжЇпјжд»¬зж§иЅдјеЈйеёёеЁ
          +/- 10%д№йґг
          
   еЇй ж§
          жд»¬йЅзҐйж°ж®еєеїйЎ»жЇеЇй зпје¦ее®е°±дёз№зЁйЅжІЎжгжд»¬еЄеее°ееё
          з»иїи®¤зжµиЇзпјзјєй·же°ззЁіе®д»Јз гжЇдёЄзж¬иіе°ждёдёЄжз beta
          жµиЇж¶йґпје№¶дёжд»¬зееёееІжѕз¤єжд»¬еЇд»ҐждѕзЁіе®зпјзўеєзпјеЇзЁд
          єздє§дЅїзЁззж¬гжд»¬зёдїЎеЁиїж№йўжд»¬дёе¶д»зж°ж®еєиЅЇд»¶жЇзёеЅзг
          
   жЇж
          жд»¬зй®д»¶еиЎЁждѕдёдёЄйеёёе¤§зеједєєеезЁж·зз»д»Ґеё®е©и§Јеіжзў°е
          °зд»»дЅй®йўгжд»¬дёиЅдїиЇж»жЇиЅи§Јеій®йўпјзёжЇд№дёпјезЁж°ж®еєиЅЇ
          д»¶д№е№¶дёжЇж»иЅе¤ждѕи§Јеіж№жіг
          зґжҐдёеједєєепјзЁж·зѕ¤пјжеежєзЁеєжҐи§¦дЅїPostgreSQLзжЇжжЇе¶д»ж°
          ж®еєиїи¦еҐЅгиїждёдєедёж§зеЁйўжжЇжЇжпјеЇд»Ґз»ждѕз»йЈдєйи¦здєєгпј
          ей1.7 е°ипј
          
   д»·ж ј
          жд»¬еЇ№д»»дЅзЁййЅеиґ№пјеж¬езЁейезЁз®зг
          дЅ еЇд»Ґдёе йе¶е°едЅ здє§ейе еҐжд»¬зд»Јз пјй¤дєйЈдєжд»¬еЁдёйўзз
          жеЈ°жйеЈ°жз BSDзжд№е¤зее®№г
          
  1.14) PostgreSQLеЇд»Ґе¤зжиїедёЄеЅе®¶е¤ж¶е¶зеее?
  
   PostgreSQL 8.0д№еззж¬жЇдЅїзЁждЅзі»з»дё­
   зж¶еєж°ж®еєжҐе¤зе¤ж¶е¶здїЎжЇпјиЄ8.0зед»Ґеззж¬PostgreSQLдјиЄиє«е«жжж°зж
   ¶еєдїЎжЇг
     _________________________________________________________________
   
зЁж·е®ўж·з«Їй®йў

  2.1) жд»¬еЇд»ҐзЁд»д№иЇиЁеPostgreSQLждє¤йпј
  
   PostgreSQL(зјєзжеµ)еЄе®иЈжCеееµејCзжҐеЈпје¶д»зжҐеЈйЅжЇз¬з«зйЎ№з®пјиЅе¤
   ее«дёиЅЅпјиїдєжҐеЈйЎ№з®з¬з«зеҐЅе¤
   жЇд»д»¬еЇд»ҐжеиЄзееёи®ЎеееиЄз¬з«зејез»г
   
   дёдєзјзЁиЇ­
   иЁе¦PHPйЅжи®їй®PostgreSQLзжҐеЈпјPerlгTCLгPythonд»Ґееѕе¤е¶д»иЇиЁзжҐеЈеЁ
   http://gborg.postgresql.orgзЅз«дёзDrivers/Interfacesе°иеЇжѕе°пј
   е№¶дёйиїInternetеѕе®№жжзґўе°г
   
  2.2) жд»д№е·Ґе·еЇд»ҐжPostgreSQLзЁдє Web йЎµйўпј
  
   дёдёЄд»з»д»Ґж°ж®еєдёєее°зжєдёйзз«з№жЇпјhttp://www.webreview.comг
   
   еЇ№дє Web йжпјPHP жЇдёдёЄжеҐЅзжҐеЈге®еЁhttp://www.php.net/г
   
   еЇ№дєе¤жзд»»еЎпјеѕе¤дєєйзЁ Perl жҐеЈе дЅїзЁCGI.pmзDBD::Pg ж mod_perl г
   
  2.3)PostgreSQLжҐжеѕеЅўзЁж·зйўепј
  
   едёзЁж·жжЇејжєеједєєеиЅжѕе°еѕе¤зжеіPostgreSQLзGUIеѕеЅўе·Ґе·иЅЇд»¶пјеЁ
   PostgreSQLз¤ѕеєжжЎЈждёдёЄиЇ¦з»зеиЎЁг
     _________________________________________________________________
   
зі»з»з®Ўзй®йў

  3.1)жжж ·иЅжPostgreSQLиЈеЁ /usr/local/pgsql д»Ґе¤зе°ж№пј
  
   еЁиїиЎ configure ж¶е дё --prefix ййЎ№г
   
  3.2) же¦дЅж§е¶жҐиЄе¶д»зµизиїжҐпј
  
   зјєзжеµдёпјPostgreSQLеЄеи®ёжҐиЄж¬жєдёйиї unix ееҐжҐежTCP/IPж№ејзиїжҐг
   дЅ еЄжеЁдї®ж№дєйзЅ®жд»¶postgresql.confдё­
   зlisten_addressesпјдёд№еЁйзЅ®жд»¶$PGDATA/pg_hba.confдёжејдє
   еєдєиїзЁзµипј host-based
   пјзиє«д»Ѕи®¤иЇпје№¶йж°еЇеЁPostgreSQLпје¦ее¶д»зµижЇдёиЅдёдЅ зPostgreSQL
   жеЎеЁиїиЎиїжҐзг
   
  3.3) жжж ·и°жґж°ж®еєејжд»Ґи·еѕжґеҐЅзж§иЅпј
  
   ждёдёЄдё»и¦ж№йўеЇд»ҐжеPostgreSQLзжЅиЅг
   
   жҐиЇўж№ејзее
          иїдё»и¦ж¶едї®ж№жҐиЇўж№ејд»Ґи·ежґеҐЅзж§иЅ:
          
          + ее»єзґўејпјеж¬иЎЁиѕѕејейЁезґўејпј
          + дЅїзЁCOPYиЇеҐд»Јжїе¤дёЄInsertиЇеҐпј
          + е°е¤дёЄSQLиЇеҐз»ждёдёЄдєеЎд»Ґее°ждє¤дєеЎзејйпј
          + д»дёдёЄзґўејдёжее¤жЎи®°еЅж¶дЅїзЁCLUSTERпј
          + д»дёдёЄжҐиЇўз»ждёееєйЁеи®°еЅж¶дЅїзЁLIMITпј
          + дЅїзЁйўзјиЇејжҐиЇўпјPrepared Query)пј
          + дЅїзЁANALYZEд»ҐдїжзІѕзЎ®здјез»и®Ўпј
          + е®ждЅїзЁ VACUUM ж pg_autovacuum
          + иїиЎе¤§йж°ж®жґж№ж¶ее й¤зґўејпјз¶ейе»єзґўејпј
            
   жеЎеЁзйзЅ®
          йзЅ®жд»¶postgres.confдё­
          зеѕе¤и®ѕзЅ®йЅдјеЅ±еж§иЅпјжжеж°зеиЎЁеЇи§пј
          з®Ўзеже/ж°ж®еєжеЎеЁиїиЎзЇеў/ж°ж®еєжеЎеЁиїиЎйзЅ®пј
          жеіеж°зи§ЈйеЇи§пјhttp://www.varlena.com/varlena/GeneralBits/Tid
          bits/annotated_conf_e.html е
          http://www.varlena.com/varlena/GeneralBits/Tidbits/perf.htmlг
          
   зЎ¬д»¶зйж©
          и®Ўз®жєзЎ¬д»¶еЇ№ж§иЅзеЅ±ееЇжµи§
          http://candle.pha.pa.us/main/writings/pgsql/hw_performance/inde
          x.html е http://www.powerpostgresql.com/PerfList/г
          
  3.4)PostgreSQLйеЇд»Ґи·еѕд»д№ж ·зи°иЇз№ж§пј
  
   PostgreSQL жеѕе¤з±»дјј log_*
   зжеЎеЁйзЅ®ейеЇзЁдєжҐиЇўзже°еиїзЁз»и®Ўпјииїдєе·ҐдЅеЇ№и°иЇеж§иЅжµиЇеѕжеё
   ®е©г
   
  3.5) дёєд»д№еЁиЇеѕиїжҐж¶ж¶е°вSorry, too many
  clientsпје·Іже¤Єе¤зЁж·иїжҐпјвж¶жЇпј
  
   иїиЎЁз¤єдЅ е·Іиѕѕе°зјєз100дёЄе№¶еее°иїзЁж°зйе¶пјдЅ йи¦йиїдї®ж№postgres
   ql.confжд»¶дёзmax_connectionsејжҐ
   еўе postmasterзее°е№¶ее¤зж°пјдї®ж№еййж°еЇеЁpostmasterг
   
  3.6)PostgreSQLзезє§иїзЁжеЄдєее®№ пј
  
   PostgreSQL ејез»еЇ№жЇж¬Ўе°зж¬зезє§дё»и¦еЄедєдёдєBugдї®жЈе·ҐдЅпје ж¤д»
   7.4.8 езє§е° 7.4.9 дёйи¦ dump е restoreпјд»йи¦еж­
   ўж°ж®еєжеЎеЁпје®иЈжґж°езиЅЇд»¶епјз¶ейеЇжеЎеЁеіеЇг
   
   жжPostgreSQLззЁж·еєиЇҐеЁжжҐиїпјдЅ ждЅїзЁздё»зж¬пјзе°ж№иїзж¬ееёе°Ѕеї«ез
   є§ге°Ѕз®ЎжЇж¬Ўезє§еЇиЅйЅждёз№йЈй©пјPostgreSQLзе°ж№иїзд»д»жЇи®ѕи®ЎзЁжҐд
   ї®ж­
   ЈдёдєBugзпјд»Јз ж№еЁиѕе°пјжд»ҐйЈй©иїжЇеѕе°згPostgreSQLз¤ѕеєи®¤дёєдёи¬ж
   еµдёдёезє§зйЈй©иїжЇе¤дєезє§зг
   
   дё»зж¬зезє§пјдѕе¦д» 7.3 е° 7.4пјйеёёдјдї®ж№зі»з»иЎЁеж°ж®иЎЁзейЁж јејг
   иїдєж№едёи¬жЇиѕе¤жпје ж¤жд»¬дёз»ґжж°ж®жд»¶зеееје®№ж§ге ж¤д»изж¬дё­
   иїиЎж°ж®еЇјеєпјdumpпј/з¶ееЁж°зж¬дё­
   иїиЎж°ж®еЇјеҐпјreloadпјеЇ№дё»зж¬зезє§жЇеїйЎ»зг
   
  3.7)(дЅїзЁPostgreSQL)жйи¦дЅїзЁд»д№и®Ўз®жєзЎ¬д»¶ пј
  
   з±дєи®Ўз®жєзЎ¬д»¶е¤§е¤ж°жЇеје®№зпјдєєд»¬ж»жЇеѕедєзёдїЎжжи®Ўз®жєзЎ¬д»¶и
   ґЁйд№жЇзёезгдєе®дёдёжЇпј ECC RAMпјеё¦еҐе¶ж ЎйЄзеепјпјSCSI
   пјзЎ¬зпједјиґЁздё»жїжЇдёдєдѕїе®иґ§и¦жґе еЇй дёе·жжґеҐЅзж§иЅгPostgreSQL
   е д№еЇд»ҐиїиЎеЁд»»дЅзЎ¬д»¶дёпј
   дЅе¦жеЇй ж§еж§иЅеЇ№дЅ ззі»з»еѕйи¦пјдЅ е°±йи¦еЁйўзз з©¶дёдёдЅ ззЎ¬д»¶йз
   Ѕ®дєгеЁжд»¬зй®д»¶еиЎЁдёд№жеідє зЎ¬д»¶йзЅ®еж§д»·жЇзи®Ёи®єг
     _________________________________________________________________
   
ждЅй®йў

  4.1) е¦дЅеЄйж©дёдёЄжҐиЇўз»жзе¤ґе иЎпјжжЇйжєздёиЎпј
  
   е¦ждЅ еЄжЇи¦жее иЎж°ж®пје№¶дёдЅ еЁж§иЎжҐиЇўдё­
   зҐйзЎ®езиЎж°пјдЅ еЇд»ҐдЅїзЁLIMITеиЅг е¦жждёдёЄзґўејдё ORDER BYдё­
   зжЎд»¶е№йпјPostgreSQL еЇиЅе°±еЄе¤зи¦ж±зе¤ґе жЎи®°еЅпј
   пје¦ее°еЇ№жґдёЄжҐиЇўиїиЎе¤ззґе°зжйи¦зиЎпјге¦жеЁж§иЎжҐиЇўеиЅж¶дёзҐйзЎ®е
   зи®°еЅж°пј еЇдЅїзЁжёёж (cursor)еFETCHеиЅг
   
   еЇдЅїзЁд»Ґдёж№жіжедёиЎйжєи®°еЅзпј
      SELECT  cols
      FROM tab
      ORDER BY random()
      LIMIT 1 ;

  4.2)
  е¦дЅжҐзиЎЁгзґўејгж°ж®еєд»ҐезЁж·зе®д№пје¦дЅжҐзpsqlйзЁе°зжҐиЇўжд»¤е№¶жѕз¤єе®д»¬
  пј
  
   еЁpsqlдёдЅїзЁ \dt еЅд»¤жҐжѕз¤єж°ж®иЎЁзе®д№пји¦дєи§Јpsqlдё­
   зе®жґеЅд»¤еиЎЁеЇдЅїзЁ\? пје¦е¤пјдЅ д№еЇд»ҐйиЇ» psql зжєд»Јз
   жд»¶pgsql/src/bin/psql/describe.cпје®еж¬дёєзжpsqlежж еЅд»¤зиѕеєзжж SQL
   еЅд»¤гдЅ иїеЇд»Ґеё¦ -E ййЎ№еЇеЁ psqlпј иїж ·е®е°же°еєдЅ еЁpsqlдё­
   жз»еєзеЅд»¤ж§иЎж¶зейЁе®йдЅїзЁзSQLжҐиЇўиЇ­
   еҐгPostgreSQLд№ждѕдєдёдёЄеје®№SQLзINFORMATION SCHEMAжҐеЈпј
   дЅ еЇд»Ґд»иїйи·ееідєж°ж®еєздїЎжЇг
   
   еЁзі»з»дёд№ждёдєд»Ґpg_ же¤ґззі»з»иЎЁд№жиї°дєиЎЁзе®д№г
   
   дЅїзЁ psql -l жд»¤еЇд»Ґееєжжзж°ж®еєг
   
   д№еЇд»Ґжµи§дёдё
   pgsql/src/tutorial/syscat.sourceжд»¶пје®едёѕдєеѕе¤еЇд»ж°ж®еєзі»з»иЎЁдё
   и·едїЎжЇзSELECTиЇжіг
   
  4.3) е¦дЅжґж№дёдёЄеж®µзж°ж®з±»епј
  
   еЁ8.0зж¬йжґж№дёдёЄеж®µзж°ж®з±»ееѕе®№жпјеЇдЅїзЁ ALTER TABLE ALTER
   COLUMN TYPE г
   
   еЁд»Ґеззж¬дёпјеЇд»Ґиїж ·епј
   BEGIN;
    ALTER TABLE tab ADD COLUMN new_col new_data_type;
    UPDATE tab SET new_col = CAST(old_col AS new_data_type);
    ALTER TABLE tab DROP COLUMN old_col;
    COMMIT;

   дЅ з¶ееЇд»ҐдЅїзЁVACUUM FULL tab жд»¤жҐдЅїзі»з»ж¶еж жж°ж®же зЁзз©єйґг
   
  4.4) ежЎи®°еЅпједёЄиЎЁпједёЄж°ж®еєзже¤§йе¶жЇе¤е°пј
  
   дёйўжЇдёдєйе¶пј
   
     едёЄж°ж®еєже¤§е°єеЇёпј   ж йе¶пје·ІееЁж 32TB зж°ж®еєпј
     едёЄиЎЁзже¤§е°єеЇёпј     32 TB
     дёиЎи®°еЅзже¤§е°єеЇёпј   1.6 TB
     дёдёЄеж®µзже¤§е°єеЇё?    1 GB
     дёдёЄиЎЁйже¤§иЎж°пј      ж йе¶
     дёдёЄиЎЁйже¤§еж°пј       250-1600 пјдёез±»ежеіпј
     дёдёЄиЎЁйзже¤§зґўејж°йпј ж йе¶
   
   еЅз¶пје®йдёжІЎжзжЈзж йе¶пјиїжЇи¦ееЇзЁзЈзз©єйґгеЇзЁее/дє¤жўеєзе¶зє¦г
   дєе®дёпјеЅдёиї°иїдєж°ејееѕејеёёе°е¤§ж¶пјзі»з»ж§иЅд№дјееѕе¤§еЅ±ег
   
   еиЎЁзже¤§е¤§е° 32 TB
   дёйи¦ждЅзі»з»еЇ№едёЄжд»¶д№йиїд№е¤§зжЇжге¤§иЎЁзЁе¤дёЄ 1 GB зжд»¶е­
   еЁпје ж¤жд»¶зі»з»е¤§е°зйе¶жЇдёйи¦зг
   
   е¦жзјєззее¤§е°еўйїе° 32K пјже¤§зеиЎЁе¤§е°еже¤§еж°иїеЇд»Ґеўе е°еег
   
   ждёдёЄйе¶е°±жЇдёиЅеЇ№е¤§е°е¤дє2000е­
   изеее»єзґўејге№ёиїе°жЇиїж ·ззґўејеѕе°зЁе°гйиїеЇ№е¤е­
   иезее®№иїиЎMD5езЁиїз®з»жиїиЎеЅж°зґўејеЇеЇ№езеЇдёж§еѕе°дїиЇпј
   е№¶дёеЁжжЈзґўеи®ёеЇ№едёзеиЇиїиЎжзґўг
   
  4.5) ееЁдёдёЄеёезжж¬жд»¶йзж°ж®йи¦е¤е°зЈзз©єйґпј
  
   дёдёЄ Postgres ж°ж®еєпје­
   еЁдёдёЄжж¬жд»¶пјже зЁзз©єйґже¤еЇиЅйи¦зёеЅдєиїдёЄжж¬жд»¶иЄиє«е¤§е°5еззЈ
   зз©єйґг
   
   дѕе¦пјеи®ѕждёдёЄ 100,000 иЎзжд»¶пјжЇиЎждёдёЄжґж°едёдёЄжж¬жиї°г
   еи®ѕжж¬дёІзе№іейїеє¦дёє20еигжж¬жд»¶е зЁ 2.8 MBге­
   жѕиїдєж°ж®зPostgreSQLж°ж®еєжд»¶е¤§зє¦жЇ 6.4 MB:
     28 еи: жЇиЎзе¤ґпје¤§зє¦ејпј
     24 еи: дёдёЄжґж°ееж®µедёдёЄжж¬ееж®µ
   +  4 еи: йЎµйўежеез»зжй
   ----------------------------------------
     56 еижЇиЎ

   PostgreSQL ж°ж®йЎµзе¤§е°жЇ 8192 еи (8 KB)пјепј

   8192 еижЇйЎµ
   -------------------   =  146 иЎ/ж°ж®йЎµпједёежґпј
     56 еижЇиЎ

   100000 ж°ж®иЎ
   --------------------  =  685 ж°ж®йЎµпједёежґпј
      146 иЎ/ж°ж®йЎµ

   685 ж°ж®йЎµ * 8192 еи/йЎµ  = 5,611,520 еипј5.6 MBпј

   зґўејдёйи¦иїд№е¤зйўе¤ж¶ипјдЅд№зЎ®е®еж¬иў«зґўејзж°ж®пје ж­
   ¤е®д»¬д№еЇиЅеѕе¤§г
   
   з©єејNULLежѕеЁдЅеѕдёпје ж¤е зЁеѕе°зз©єйґг
   
  4.6) дёєд»д№жзжҐиЇўеѕжўпјдёєд»д№иїдєжҐиЇўжІЎже©зЁзґўејпј
  
   е№¶йжЇдёЄжҐиЇўйЅдјиЄеЁдЅїзЁзґўејгеЄжеЁиЎЁзе¤§е°и¶иїдёдёЄже°ејпје№¶дёжҐ
   иЇўеЄдјйдёиЎЁдёиѕе°жЇдѕзи®°еЅж¶ждјйзЁзґўејг
   иїжЇе дёєзґўејж«жејиµ·зйеізЈзеееЇиЅжЇзґжҐе°иЇ»еиЎЁпјйЎєеєж«жпјжґжўг
   
   дёєдєе¤ж­
   жЇе¦дЅїзЁзґўејпјPostgreSQLеїйЎ»и·еѕжеіиЎЁзз»и®Ўејгиїдєз»и®ЎејеЇд»ҐдЅїз
   Ё VACUUM ANALYZEпјж ANALYZE и·еѕг дЅїзЁз»и®ЎејпјдјееЁзҐйиЎЁдё­
   же¤е°иЎпје°±иЅе¤жґеҐЅе°е¤жжЇе¦е©зЁзґўејг
   з»и®ЎејеЇ№зЎ®е®дјезиїжҐйЎєеєеиїжҐж№жід№еѕжзЁгеЁиЎЁзее®№езееж¶пјеєе®жиї
   иЎз»и®Ўејзжґж°ж¶йг
   
   зґўејйеёёдёзЁдє ORDER BY
   жж§иЎиїжҐгеЇ№дёдёЄе¤§иЎЁздёж¬ЎйЎєеєж«жеедёж¬ЎжеєйеёёжЇзґўејж«жи¦еї«гз¶
   ипје¦же° LIMIT е ORDER BY
   з»ееЁдёиµ·дЅїзЁзиЇпјйеёёе°дјдЅїзЁзґўејпје дёєиїж¶д»иїеиЎЁдё­
   здёе°йЁеи®°еЅг
   
   е¦ждЅ зЎ®дїЎPostgreSQLздјееЁдЅїзЁйЎєеєж«жжЇдёжЈзЎ®зпјдЅ еЇд»ҐдЅїзЁSET
   enable_seqscan TO 'off'жд»¤жҐеіййЎєеєж«жпј
   з¶ееж¬ЎиїиЎжҐиЇўпјдЅ е°±еЇд»ҐзеєдЅїзЁдёдёЄзґўејж«жжЇе¦зЎ®е®и¦еї«дёдєг
   
   еЅдЅїзЁййз¬¦ждЅпјдѕе¦ LIKE ж ~ ж¶пјзґўејеЄиЅеЁз№е®зжеµдёдЅїзЁпј
     * ез¬¦дёІзеје§йЁееїйЎ»жЇж®йез¬¦дёІпјд№е°±жЇиЇґпј
          + LIKE жЁЎејдёиЅд»Ґ % же¤ґг
          + ~ пјжЈеиЎЁиѕѕејпјжЁЎејеїйЎ»д»Ґ ^ же¤ґг
     * ез¬¦дёІдёиЅд»Ґе№йе¤дёЄез¬¦зжЁЎејз±»же¤ґпјдѕе¦ [a-e]г
     * е¤§е°еж еізжҐжѕпје¦ ILIKE е ~* здёдЅїзЁзґўејпјдЅеЇд»ҐзЁ 4.8
       ижиї°зиЎЁиѕѕејзґўејг
     * еЁе initdb ж¶еїйЎ»йзЁзјєззж¬е°и®ѕзЅ® C
       localeпје дёєзі»з»дёеЇиЅзҐйеЁйC localeжеµж¶дёдёдёЄже¤§ез¬¦жЇд»д№г
       еЁиїз§жеµдёпјдЅ еЇд»Ґее»єдёдёЄз№ж®зtext_pattern_opsзґўејжҐзЁдєLIKE
       ззґўејг
       
   еЁ8.0д№еззж¬дё­
   пјй¤йи¦жҐиЇўзж°ж®з±»еезґўејзж°ж®з±»езёе№йпје¦езґўејз»еёёжЇжЄиў«зЁе°пјз
   №е«жЇеЇ№int2,int8еж°ејеззґўејг
   
  4.7) же¦дЅжиЅзе°жҐиЇўдјееЁжЇжж ·иЇдј°е¤зжзжҐиЇўпј
  
   еи EXPLAIN жейЎµг
   
  4.8) жжж ·ежЈеиЎЁиѕѕејжзґўее¤§е°еж еізж­
  ЈеиЎЁиѕѕејжҐжѕпјжж ·е©зЁзґўејиїиЎе¤§е°еж еіжҐжѕпј
  
   ждЅз¬¦ ~ е¤зжЈеиЎЁиѕѕеје№йпји ~* е¤зе¤§е°еж еізж­
   ЈеиЎЁиѕѕеје№йге¤§е°еж еіз LIKE ез§ждёє ILIKEг
   
   е¤§е°еж еіззејжЇиѕйеёёеепј
    SELECT *
    FROM tab
    WHERE lower(col) = 'abc';

   иїж ·е°дёдјдЅїзЁж еззґўејгдЅжЇеЇд»Ґее»єдёдёЄеЁиїз§жеµдёдЅїзЁзиЎЁиѕѕејз
   ґўеј:
    CREATE INDEX tabindex ON tab (lower(col));

   е¦ждёиї°зґўејеЁее»єж¶е еҐUNIQUEзє¦жпјиЅз¶зґўејеж®µиЄиє«ее®№еЇд»Ґе­
   еЁе¤§е°едёйзее®№пјдЅе¦жжUNIQUEзє¦жепјиїдєее®№дёиЅд»д»жЇе¤§е°едёепје¦ед
   јй жеІзЄпјгдёєдєдїиЇдёезиїз§жеµпјеЇд»ҐдЅїзЁCHECKзє¦жжЎд»¶жжЇи§¦ееЁеЁеЅ
   еҐж¶иїиЎйе¶г
   
  4.9) еЁдёдёЄжҐиЇўйпјжжж ·жЈжµдёдёЄеж®µжЇе¦дёє NULL пјже¦дЅжиЅезЎ®жеєидёи®єже­
  ж®µжЇе¦е« NULL ејпј
  
   зЁ IS NULL е IS NOT NULL жµиЇиїдёЄеж®µпје·дЅж№жіе¦дёпј
   SELECT *
   FROM tab
   WHERE col IS NULL;

   дёєдєиЅеЇ№е« NULLеж®µжеєпјеЇеЁ ORDER BY жЎд»¶дёдЅїзЁ IS NULLе IS NOT
   NULL дї®йҐ°з¬¦пјжЎд»¶дёєз true е°жЇжЎд»¶дёєеfalse жеЁейўпјдёйўздѕе­
   е°±дје°е« NULL зи®°еЅжеЁз»жздёйўйЁепј
   SELECT *
   FROM tab
   ORDER BY (col IS NOT NULL)

  4.10) ез§ез¬¦з±»ед№йґжд»д№дёепј
  
   з±»е ейЁез§° иЇґж
   VARCHAR(n) varchar же®дєже¤§йїеє¦пјейїе­
   з¬¦дёІпјдёи¶іе®д№йїеє¦зйЁедёиЎҐйЅ
   CHAR(n) bpchar е®йїез¬¦дёІпје®йж°ж®дёи¶іе®д№йїеє¦ж¶пјд»Ґз©єж јиЎҐйЅ
   TEXT text жІЎжз№е«здёййе¶пјд»еиЎзже¤§йїеє¦йе¶пј
   BYTEA bytea ейїеиеєепјдЅїзЁNULLез¬¦д№жЇеи®ёзпј
   "char" char едёЄез¬¦
   
   еЁзі»з»иЎЁееЁдёдєйиЇЇдїЎжЇйдЅ е°зе°ейЁез§°г
   
   дёйўжезеез§з±»ежЇ"varlena"пјейїпјз±»епјд№е°±жЇиЇґпјеје¤ґзедёЄе­
   ижЇйїеє¦пјейўжжЇж°ж®пјг дєжЇе®йе зЁзз©єйґжЇеЈ°жзе¤§е°и¦е¤дёдєг
   з¶ииїдєз±»ее¦е®д№еѕйїж¶йЅеЇд»Ґиў«езј©ееЁпје ж­
   ¤зЈзз©єйґд№еЇиЅжЇйўжізи¦е°г
   
   VARCHAR(n) еЁееЁйе¶дєже¤§йїеє¦зейїез¬¦дёІжЇжеҐЅзг TEXT йзЁдєе­
   еЁже¤§еЇиѕѕ 1Gе·¦еідЅжЄе®д№йе¶йїеє¦зез¬¦дёІг
   
   CHAR(n) жйедєееЁйїеє¦зёезез¬¦дёІг CHAR(n)дјж №ж®жз»е®зе­
   ж®µйїеє¦д»Ґз©єж јиЎҐи¶іпјдёи¶ізеж®µее®№пјпј и VARCHAR(n) еЄе­
   еЁжз»е®зж°ж®ее®№г BYTEA зЁдєееЁдєиїе¶ж°ж®пје°¤е¶жЇее« NULL е­
   изејгиїдєз±»ее·же·®дёе¤зж§иЅг
   
  4.11.1) жжж ·ее»єдёдёЄеєее·жжЇиЄеЁйеўзеж®µпј
  
   PostgreSQL жЇж SERIAL ж°ж®з±»егпје­
   ж®µе®д№дёєSERIALепје°иЄеЁее»єдёдёЄеєезжеЁпјдѕе¦пј
   CREATE TABLE person (
      id   SERIAL,
      name TEXT
   );

   дјиЄеЁиЅ¬жўдёєд»ҐдёSQLиЇеҐпј
   CREATE SEQUENCE person_id_seq;
   CREATE TABLE person (
      id   INT4 NOT NULL DEFAULT nextval('person_id_seq'),
      name TEXT
   );

   еи create_sequence жейЎµи·ееідєеєезжеЁзжґе¤дїЎжЇг
   
  4.11.2) же¦дЅи·еѕдёдёЄжеҐзеєее·зејпј
  
   дёз§ж№жіжЇеЁжеҐд№еезЁеЅж° nextval() д»еєееЇ№и±ЎйжЈзґўеєдёдёдёЄ SERIAL
   ејпјз¶еезЁж¤ејзІѕзЎ®е°жеҐгдЅїзЁ 4.11.1 йздѕиЎЁпјеЇзЁдјЄз иїж ·жиї°пј
   new_id = execute("SELECT nextval('person_id_seq')");
   execute("INSERT INTO person (id, name) VALUES (new_id, 'Blaise Pascal')");

   иїж ·иїиЅеЁе¶д»жҐиЇўдёдЅїзЁежѕеЁ new_id йзж°ејпјдѕе¦пјдЅдёєез§ person
   иЎЁзе¤й®пјг жіЁжиЄеЁее»єз SEQUENCE еЇ№и±Ўзез§°е°дјжЇ
   <table>_<serialcolumn>_seqпј иїй table е serialcolumn
   ее«жЇдЅ зиЎЁзез§°едЅ з SERIAL еж®µзез§°г
   
   з±»дјјзпјеЁ SERIAL еЇ№и±ЎзјєзжеҐедЅ еЇд»ҐзЁеЅж° currval() жЈзґўеиµејз
   SERIAL ејпјдѕе¦пј
   execute("INSERT INTO person (name) VALUES ('Blaise Pascal')");
   new_id = execute("SELECT currval('person_id_seq')");

  4.11.3) еж¶дЅїзЁ currval() дјеЇјиґее¶д»зЁж·зеІзЄжеµепј
  
   дёдјгcurrval() иїезжЇдЅ ж¬ж¬ЎдјиЇиїзЁжиµзејидёжЇжжзЁж·зеЅеејг
   
  4.11.4) дёєд»д№дёеЁдєеЎејеёёдёжўейзЁеєее·еўпјдёєд»д№еЁеєее·еж®µзеејдёееЁйґж­
  еўпј
  
   дёєдєжй«е№¶еж§пјеєее·еЁйи¦зж¶еиµдєж­
   ЈеЁиїиЎздєеЎпје№¶дёеЁдєеЎз»жд№едёиїиЎйе®пј иїе°±дјеЇјиґејеёёдё­
   жўздєеЎепјеєее·дјеєз°йґйг
   
  4.12) д»д№жЇ OID пјд»д№жЇ CTID пј
  
   PostgreSQL
   йее»єзжЇдёиЎи®°еЅйЅдји·еѕдёдёЄеЇдёзOIDпјй¤йеЁее»єиЎЁж¶дЅїзЁWITHOUT
   OIDSййЎ№г OIDее»єж¶дјиЄеЁзждёдёЄ4еизжґж°пјжж OID
   еЁзёеєPostgreSQLжеЎеЁдёежЇеЇдёзг з¶ипје®еЁи¶иї40дєїж¶е°жєўеєпј OIDж­
   ¤едјеєз°йе¤гPostgreSQL еЁе®зейЁзі»з»иЎЁйдЅїзЁ OID еЁиЎЁд№йґе»єз«изі»г
   
   еЁзЁж·зж°ж®иЎЁдёпјжеҐЅжЇдЅїзЁSERIAlжҐд»ЈжїOID
   е дёєSERIALеЄи¦дїиЇеЁедёЄиЎЁдё­
   зж°ејжЇеЇдёзе°±еЇд»Ґдєпјиїж ·е®жєўеєзеЇиЅж§е°±йеёёе°дєпј
   SERIAL8еЇзЁжҐдїе8еизеєеж°ејг
   
   CTID зЁдєж иЇеё¦зж°ж®епје°епјепјеепјез§»зз№е®зз©зиЎг CTID
   еЁи®°еЅиў«жґж№жйиЅЅеезж№егзґўејж°ж®дЅїзЁе®д»¬жез©зиЎг
   
  4.13) дёєд»д№жж¶е°йиЇЇдїЎжЇвERROR: Memory exhausted in AllocSetAlloc()впј
  
   иїеѕеЇиЅжЇзі»з»зижеезЁедєпјжиеж ёеЇ№ждєиµжєжиѕдЅзйе¶ејгеЁеЇеЁ
   postmaster д№еиЇиЇдёйўзеЅд»¤пј
   ulimit -d 262144
   limit datasize 256m

   ееідєдЅ зЁз
   shellпјдёйўеЅд»¤еЄждёжЎиЅжепјдЅжЇе®е°ждЅ зиїзЁж°ж®ж®µйе¶и®ѕеѕжЇиѕй«пј
   е ид№и®ёиЅи®©жҐиЇўе®жгиїжЎеЅд»¤еєзЁдєеЅеиїзЁпјд»ҐежжеЁиїжЎеЅд»¤иїиЎеее
   »єзеиїзЁг
   е¦ждЅ жЇеЁиїиЎSQLе®ўж·з«Їж¶е дёєее°иїедєе¤Єе¤зж°ж®иеєз°й®йўпјиЇ·еЁиїиЎ
   е®ўж·з«Їд№еж§иЎдёиї°еЅд»¤г
   
  4.14) же¦дЅжиЅзҐйжиїиЎзPostgreSQLззж¬пј
  
   д» psql йпјиѕеҐ SELECT version();жд»¤г
   
  4.15) же¦дЅее»єдёдёЄзјєзејжЇеЅеж¶йґзеж®µпј
  
   дЅїзЁ CURRENT_TIMESTAMPпј
   CREATE TABLE test (x int, modtime TIMESTAMP DEFAULT CURRENT_TIMESTAMP );

  4.16) жжж ·иїиЎ outer join пје¤иїжҐпјпј
  
   PostgreSQL йзЁж ез SQL иЇжіжЇже¤иїжҐгиїйжЇдё¤дёЄдѕепј
   SELECT *
   FROM t1 LEFT OUTER JOIN t2 ON (t1.col = t2.col);

   жжЇ
   SELECT *
   FROM t1 LEFT OUTER JOIN t2 USING (col);

   иїдё¤дёЄзд»·зжҐиЇўеЁ t1.col е t2.col дёеиїжҐпје№¶дёиїе t1 дё­
   жжжЄиїжҐзиЎпјйЈдєеЁ t2 дёжІЎже№йзиЎпјг еі[е¤]иїжҐпјRIGHT OUTER
   JOINпје°иїе t2 дёжЄиїжҐзиЎг е®еЁе¤иїжҐпјFULL OUTER JOINпје°иїе t1 е t2
   дёжЄиїжҐзиЎг еій®е OUTER еЁе·¦[е¤]иїжҐгеі[е¤]иїжҐее®еЁ[е¤]иїжҐдё­
   жЇеЇйзпјж®йиїжҐиў«з§°дёєеиїжҐпјINNER JOINпјг
   
  4.17) е¦дЅдЅїзЁж¶ее¤дёЄж°ж®еєзжҐиЇўпј
  
   жІЎжежіжҐиЇўеЅеж°ж®еєд№е¤зж°ж®еєг
   е дёєPostgreSQLи¦е иЅЅдёж°ж®еєзёеіззі»з»з®еЅпјзі»з»иЎЁпјпје ж­
   ¤и·Ёж°ж®еєзжҐиЇўе¦дЅж§иЎжЇдёе®зг
   
   йе еўејжЁЎеcontrib/dblinkеи®ёйзЁеЅж°и°зЁе®з°и·ЁеєжҐиЇўгеЅз¶зЁж·д№еЇд»Ґ
   еж¶иїжҐе°дёезж°ж®еєж§иЎжҐиЇўз¶ееЁе®ўж·з«Їее№¶з»жг
   
  4.18) е¦дЅи®©еЅж°иїее¤иЎже¤еж°ж®пј
  
   еЁеЅж°дёиїеж°ж®и®°еЅйзеиЅжЇеѕе®№ждЅїзЁзпјиЇ¦жеи§пј
   http://techdocs.postgresql.org/guides/SetReturningFunctions
   
  4.19) дёєд»д№жеЁдЅїзЁPL/PgSQLеЅж°еедёґж¶иЎЁж¶дјж¶е°йиЇЇдїЎжЇвrelation with
  OID ##### does not existвпј
  
   PL/PgSQLдјзјееЅж°зиж¬ее®№пјз±ж¤её¦жҐздёдёЄдёеҐЅзеЇдЅзЁжЇиҐдёдёЄ
   PL/PgSQL
   еЅж°и®їй®дєдёдёЄдёґж¶иЎЁпјз¶еиЇҐиЎЁиў«е й¤е№¶йе»єдєпјееж¬Ўи°зЁиЇҐеЅж°е
   °е¤±иґҐпј е дёєзјезеЅж°ее®№д»з¶жеж§здёґж¶иЎЁги§Јеізж№жіжЇеЁ PL/PgSQL
   дёзЁEXECUTE
   еЇ№дёґж¶иЎЁиїиЎи®їй®гиїж ·дјдїиЇжҐиЇўеЁж§иЎеж»дјиў«йж°и§Јжг
   
  4.20) з®ежеЄдєж°ж®е¤е¶ж№жЎеЇзЁпј
  
   ве¤е¶веЄжЇдёдёЄжЇиЇпјжеҐЅе з§е¤е¶жжЇеЇзЁпјжЇз§йЅждјз№езјєз№пј
   
   дё»/д»е¤е¶ж№ејжЇеи®ёдёдёЄдё»жеЎеЁжҐеиЇ»/еззіиЇ·пјие¤дёЄд»жеЎеЁеЄиЅжҐеи
   Ї»/SELECTжҐиЇўззіиЇ·пј з®ежжµиЎдёеиґ№здё»/д»PostgreSQLе¤е¶ж№жЎжЇ
   Slony-I г
   
   е¤дёЄдё»жеЎеЁзе¤е¶ж№ејеи®ёе°иЇ»/еззіиЇ·ейз»е¤е°зи®Ўз®жєпјиїз§ж№ејз±дєй
   и¦еЁе¤е°жеЎеЁд№йґежҐж°ж®ееЁ
   еЇиЅдјеё¦жҐиѕдёҐйзж§иЅже¤±пјPgclusterжЇз®еиїз§ж№жЎ дё­
   жеҐЅзпјидёиїеЇд»Ґеиґ№дёиЅЅг
   
   д№ждёдєедёйд»иґ№ееєдєзЎ¬д»¶зж°ж®е¤е¶ж№жЎпјжЇждёиї°ез§е¤е¶жЁЎег
   
  4.21) дёєдЅжҐиЇўз»жжѕз¤єзиЎЁежеедёжзжҐиЇўиЇеҐдёздёепјдёєдЅе¤§ез¶ждёиЅдїзпј
  
   жеёёи§зее жЇеЁее»єиЎЁж¶еЇ№иЎЁежжЇеедЅїзЁдєееје·ввпјеЅдЅїзЁдєееје·епјиЎ
   Ёежеепјз§°дёєж иЇз¬¦пјееЁж¶жЇеєе е¤§е°езпј
   иїжи°здЅ еЁжҐиЇўж¶иЎЁежеед№еєдЅїзЁееје·пјдёдєе·Ґе·иЅЇд»¶пјеpgAdminдјеЁ
   ееєее»єиЎЁзжд»¤ж¶иЄеЁе°еЁжЇдёЄж иЇз¬¦дёе ееје·г е ж­
   ¤пјдёєдєж иЇз¬¦зз»дёпјдЅ еєиЇҐпј
     * еЁее»єиЎЁж¶йїее°ж иЇз¬¦дЅїзЁееје·ејиµ·жҐг
     * еЁж иЇз¬¦дёеЄдЅїзЁе°еежЇг
     * пјдёєдєдёе·ІееЁзж иЇз¬¦зёепјеЁжҐиЇўдёдЅїзЁееје·е°ж иЇз¬¦ејиµ·жҐг
