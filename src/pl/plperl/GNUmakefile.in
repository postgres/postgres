# $Header: /cvsroot/pgsql/src/pl/plperl/Attic/GNUmakefile.in,v 1.1 2000/06/10 18:02:11 petere Exp $

srcdir = @srcdir@
VPATH = @srcdir@

top_srcdir = @top_srcdir@
top_builddir = ../../..

prefix = @prefix@
exec_prefix = @exec_prefix@
libdir = @libdir@

plperl_installdir = $(libdir)

mkinstalldirs = @mkinstalldirs@
PERL = @PERL@
PGSQL_INCLUDES = @PGSQL_INCLUDES@

all: Makefile
	$(MAKE) -f $< all

Makefile: Makefile.PL
	@plperl_installdir='$(plperl_installdir)' \
	  EXTRA_INCLUDES='-I$(top_srcdir)/src/include $(PGSQL_INCLUDES)' \
	  $(PERL) $< POLLUTE=1

install: Makefile installdirs
	$(MAKE) -f $< install

installdirs:
	$(mkinstalldirs) $(plperl_installdir)

clean:
	-[ -f Makefile ] && $(MAKE) -f Makefile realclean

distclean maintainer-clean: clean
	rm -f GNUmakefile


.PHONY: all install installdirs clean distclean maintainer-clean
